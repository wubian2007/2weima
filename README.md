# 2weima - å›¾ç‰‡äºŒç»´ç ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºNode.jsçš„å›¾ç‰‡äºŒç»´ç ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå›¾ç‰‡åœ°å€æ›´æ–°ï¼Œé€‚ç”¨äºæ”¯ä»˜å¼•å¯¼é¡µé¢ç­‰åœºæ™¯ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### å›¾ç‰‡æ›´æ–°æ¨¡å¼
- **å›¾ç‰‡åœ°å€æ›´æ–°** - ç›´æ¥è¾“å…¥å›¾ç‰‡URLåœ°å€ï¼Œè‡ªåŠ¨åŒæ­¥åˆ°å‰ç«¯

### æ ¸å¿ƒåŠŸèƒ½
- âœ… å›¾ç‰‡åœ°å€ç®¡ç†
- âœ… å®æ—¶å›¾ç‰‡é¢„è§ˆå’Œæµ‹è¯•
- âœ… é…ç½®æ–‡ä»¶è‡ªåŠ¨æ›´æ–°
- âœ… å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- âœ… SSHå¯†é’¥è®¤è¯ï¼Œæ— å¯†ç éƒ¨ç½²
- âœ… é˜²ç¼“å­˜æœºåˆ¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### è®¿é—®åœ°å€
- **ä¸»é¡µé¢**: https://2wei.top
- **ç®¡ç†åå°**: https://2wei.top/admin-server.html

### ç™»å½•ä¿¡æ¯
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`

## ğŸ“ é¡¹ç›®ç»“æ„

```
2weima/
â”œâ”€â”€ index.html              # ä¸»é¡µé¢ï¼ˆæ”¯ä»˜å¼•å¯¼é¡µé¢ï¼‰
â”œâ”€â”€ admin-server.html       # ç®¡ç†åå°ï¼ˆä¸»è¦ç®¡ç†ç•Œé¢ï¼‰
â”œâ”€â”€ server.js              # Node.jsåç«¯æœåŠ¡å™¨
â”œâ”€â”€ image-config.js        # å›¾ç‰‡é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json           # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ ecosystem.config.js    # PM2è¿›ç¨‹ç®¡ç†é…ç½®
â”œâ”€â”€ nginx-domain.conf      # NginxåŸŸåé…ç½®æ¨¡æ¿
â”œâ”€â”€ nginx-wildcard.conf    # Nginxæ³›åŸŸåé…ç½®
â”œâ”€â”€ bt-sync.sh            # å®å¡”é¢æ¿åŒæ­¥è„šæœ¬
â”œâ”€â”€ server-manager.sh     # æœåŠ¡å™¨ç®¡ç†è„šæœ¬
â”œâ”€â”€ domain-manager.sh     # åŸŸåç®¡ç†è„šæœ¬
â”œâ”€â”€ check-config.sh       # é…ç½®æ£€æŸ¥è„šæœ¬
â”œâ”€â”€ test-config.js        # é…ç½®æµ‹è¯•è„šæœ¬
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ› ï¸ å®‰è£…éƒ¨ç½²

### æœ¬åœ°å¼€å‘
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/wubian2007/2weima.git
cd 2weima

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
./dev-server.sh
```

### æœåŠ¡å™¨éƒ¨ç½²
```bash
# ä½¿ç”¨å®å¡”é¢æ¿åŒæ­¥è„šæœ¬
./bt-sync.sh --server

# æˆ–ä½¿ç”¨æœåŠ¡å™¨ç®¡ç†è„šæœ¬
./server-manager.sh update
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ç®¡ç†åå°ä½¿ç”¨

#### å›¾ç‰‡åœ°å€ç®¡ç†
1. è®¿é—®ç®¡ç†åå°å¹¶ç™»å½•
2. åœ¨"å›¾ç‰‡åœ°å€ç®¡ç†"åŒºåŸŸè¾“å…¥å›¾ç‰‡URLåœ°å€
3. ç‚¹å‡»"ğŸ’¾ æ›´æ–°å›¾ç‰‡åœ°å€"
4. ç‚¹å‡»"ğŸ“„ æµ‹è¯•é…ç½®æ–‡ä»¶"æŸ¥çœ‹æ˜¯å¦æ›´æ–°æˆåŠŸ
5. åˆ·æ–°å‰ç«¯é¡µé¢æŸ¥çœ‹æ•ˆæœ

### æœåŠ¡å™¨ç®¡ç†

#### å¿«é€Ÿå‘½ä»¤
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
./server-manager.sh status

# é‡å¯æœåŠ¡
./server-manager.sh restart

# æŸ¥çœ‹æ—¥å¿—
./server-manager.sh logs

# æ›´æ–°ä»£ç 
./server-manager.sh update

# æµ‹è¯•ç½‘ç«™
./server-manager.sh test

# å®Œæ•´æ£€æŸ¥
./server-manager.sh all
```

#### åŒæ­¥éƒ¨ç½²
```bash
# å®Œæ•´åŒæ­¥ï¼ˆæœ¬åœ°+æœåŠ¡å™¨ï¼‰
./bt-sync.sh

# ä»…åŒæ­¥åˆ°æœåŠ¡å™¨
./bt-sync.sh --server

# å®æ—¶ç›‘æ§æ¨¡å¼
./bt-sync.sh --watch
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: HTML5, CSS3, JavaScript (ES6+)
- **åç«¯**: Node.js, Express.js
- **æ–‡ä»¶ä¸Šä¼ **: Multer
- **è¿›ç¨‹ç®¡ç†**: PM2
- **WebæœåŠ¡å™¨**: Nginx
- **éƒ¨ç½²ç¯å¢ƒ**: å®å¡”é¢æ¿ LNMP

## ğŸŒ APIæ¥å£

### å›¾ç‰‡åœ°å€ç®¡ç†
- **GET** `/api/current-image-url` - è·å–å½“å‰å›¾ç‰‡åœ°å€
- **POST** `/api/update-image-url` - æ›´æ–°å›¾ç‰‡åœ°å€

### é™æ€æ–‡ä»¶
- **GET** `/image-config.js` - è·å–å›¾ç‰‡é…ç½®æ–‡ä»¶
- **GET** `/*.html` - è®¿é—®HTMLé¡µé¢

## ğŸ“ é…ç½®è¯´æ˜

### æœåŠ¡å™¨é…ç½®
- **æœåŠ¡å™¨åœ°å€**: 119.28.19.237
- **åŸŸå**: 2wei.top
- **ç½‘ç«™è·¯å¾„**: /www/wwwroot/2weima
- **Node.jsç«¯å£**: 3000

### SSHé…ç½®
- **SSHå¯†é’¥**: ~/.ssh/2weima-server
- **ç”¨æˆ·**: root
- **ç«¯å£**: 22

## ğŸ”’ å®‰å…¨è¯´æ˜

- ç®¡ç†åå°ä½¿ç”¨localStorageå­˜å‚¨ç™»å½•çŠ¶æ€
- æ”¯æŒSSHå¯†é’¥è®¤è¯ï¼Œæ— éœ€å¯†ç 
- å›¾ç‰‡ä¸Šä¼ é™åˆ¶æ–‡ä»¶å¤§å°å’Œç±»å‹
- Nginxé…ç½®å®‰å…¨å¤´ä¿¡æ¯

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æœåŠ¡å™¨è¿æ¥çŠ¶æ€
2. æœåŠ¡è¿›ç¨‹çŠ¶æ€
3. Nginxé…ç½®
4. æ–‡ä»¶æƒé™

ä½¿ç”¨ `./server-manager.sh all` è¿›è¡Œå®Œæ•´æ£€æŸ¥ã€‚

## ğŸ“„ è®¸å¯è¯

MIT License

---

**ç‰ˆæœ¬**: v2.0  
**æ›´æ–°æ—¶é—´**: 2025-08-12  
**ç»´æŠ¤è€…**: 2weimaå›¢é˜Ÿ
